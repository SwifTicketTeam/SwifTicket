<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SwifTicket API Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: white;
            color: black;
            padding: 2rem;
            line-height: 1.6;
        }

        h1, h2, h3 {
            color: rgba(240, 128, 128, 0.75);
        }

        h1 {
            font-size: 2.4rem;
            border-bottom: 3px solid #FFC94D;
            padding-bottom: 0.3rem;
        }

        h2 {
            margin-top: 2rem;
            font-size: 1.8rem;
            border-left: 5px solid #FFC94D;
            padding-left: 0.75rem;
        }

        h3 {
            font-size: 1.4rem;
            margin-top: 1.2rem;
        }

        code, pre {
            background-color: #f8f8f8;
            padding: 0.3rem 0.6rem;
            border-radius: 5px;
            display: block;
            white-space: pre-wrap;
            font-family: monospace;
        }

        ul {
            margin-left: 1.5rem;
        }

        .section {
            border: 2px solid #FFC94D;
            border-radius: 10px;
            padding: 1rem 1.5rem;
            margin-top: 1.5rem;
        }

        .subsection {
            margin-top: 1.2rem;
        }
    </style>
</head>
<body>

<h1>SwifTicket API Documentation</h1>

<div class="section">
    <h2>API Routes</h2>
    <pre>
GET     /                                      → Server root
GET     /api                                   → API landing/documentation page
POST    /api/auth/register                     → Register new user
POST    /api/auth/login                        → Login
GET     /api/auth/verified                     → Email verification through token
POST    /api/auth/forgot-password              → Forgot password request
POST    /api/auth/reset-password               → Reset password
POST    /api/auth/jwt                          → Validate JWT session
POST    /api/uploads/images/users/:userid      → Upload user profile photo
GET     /api/uploads/images/users/:userid      → Get user profile picture
PUT     /api/account/users/:userid             → Edit user information
GET     /api/events/movies                     → Get movie list (with filters)
POST    /api/events/movies/users/favorites     → Whether movie is in favorites
PUT     /api/account/movies/favorites          → Add or Remove movie from favorites
POST    /api/account/movies/favorites          → Get all favorite movies
POST    /api/account/theatres/create           → Create a theatre (VR-only)
POST    /api/account/theatres/get              → Get all theatres by vendor
    </pre>
</div>

<div class="section">
    <h2>Endpoint Details</h2>

    <div class="subsection">
        <h3>GET /</h3>
        <p>Returns the server status or welcome message.</p>
    </div>

    <div class="subsection">
        <h3>GET /api</h3>
        <p>Returns the API landing documentation in Markdown or HTML format.</p>
    </div>

    <h2>Authentication</h2>

    <div class="subsection">
        <h3>POST /api/auth/register</h3>
        <pre>{
  "username": "john_doe",
  "email": "john@example.com",
  "password": "your_password"
}</pre>
    </div>

    <div class="subsection">
        <h3>POST /api/auth/login</h3>
        <pre>{
  "email": "john@example.com",
  "password": "your_password"
}</pre>
    </div>

    <div class="subsection">
        <h3>GET /api/auth/verified?token=</h3>
        <p>Redirects to login if token is valid and verified.<br> Redirects to error if invalid or expired.</p>
    </div>

    <div class="subsection">
        <h3>POST /api/auth/forgot-password</h3>
        <pre>{
  "email": "john@example.com"
}</pre>
    </div>

    <div class="subsection">
        <h3>POST /api/auth/reset-password</h3>
        <pre>{
  "password": "new_password",
  "token": "reset_token"
}</pre>
    </div>

    <div class="subsection">
        <h3>POST /api/auth/jwt</h3>
        <pre>{
  "token": "jwt_token_here"
}</pre>
        <p><strong>Response:</strong></p>
        <pre>{
  "username": "john_doe",
  "email": "john@example.com",
  "role": "user"
}</pre>
    </div>

    <h2>Profile Photos</h2>

    <div class="subsection">
        <h3>POST /api/uploads/images/users/:userid</h3>
        <p>Upload with FormData:</p>
        <ul>
            <li><code>userProfilePhoto</code>: image (.jpg, .jpeg, .png)</li>
            <li><code>token</code>: JWT</li>
        </ul>
    </div>

    <div class="subsection">
        <h3>GET /api/uploads/images/users/:userid</h3>
        <p>Returns image with <code>image/*</code> MIME type.</p>
    </div>

    <h2>Account Management</h2>

    <div class="subsection">
        <h3>PUT /api/account/users/:userid</h3>
        <pre>{
  "username": "new_username",
  "email": "new_email",
  "bio": "updated bio"
}</pre>
    </div>

    <h2>Movies</h2>

    <div class="subsection">
        <h3>GET /api/events/movies</h3>
        <p>Query: <code>?search=&lt;title&gt;&genre=Action,Comedy</code></p>
    </div>

    <h2>Favorites</h2>

    <div class="subsection">
        <h3>POST /api/events/movies/users/favorites</h3>
        <pre>{
  "userId": "user_id",
  "movieId": "movie_id"
}</pre>
        <p><strong>Response:</strong> <code>true</code> or <code>false</code></p>
    </div>

    <div class="subsection">
        <h3>PUT /api/account/movies/favorites</h3>
        <pre>{
  "userId": "user_id",
  "movieId": "movie_id"
}</pre>
    </div>

    <div class="subsection">
        <h3>POST /api/account/movies/favorites</h3>
        <pre>{
  "userId": "user_id"
}</pre>
        <p><strong>Returns list of favorite movies.</strong></p>
    </div>

    <h2>Vendor – Theatres</h2>

    <div class="subsection">
        <h3>POST /api/account/theatres/create</h3>
        <pre>{
  "vendor": "vendor_id",
  "city": "city_name",
  "name": "theatre_name"
}</pre>
    </div>

    <div class="subsection">
        <h3>POST /api/account/theatres/get</h3>
        <pre>{
  "vendor": "vendor_id"
}</pre>
    </div>
</div>

</body>
</html>